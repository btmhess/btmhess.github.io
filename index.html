---
layout: default
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Projects Portfolio</title>
  <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>

<header>
  <nav>
    <div>
      <a href="/">Home</a>
      <a href="/index.html">Projects</a>
    </div>
    <h1>My Projects Portfolio</h1>
  </nav>
</header>

<main>
  <section>
    <h2>Projects</h2>

    <!-- Sorting controls -->
    <div id="sort-controls">
      <strong>Sort:</strong>
      <div class="sort-group">
        <span>Favorites:</span>
        <button class="sort-btn" data-key="favorite_order" data-order="asc">↑</button>
        <button class="sort-btn" data-key="favorite_order" data-order="desc">↓</button>
      </div>
      <div class="sort-group">
        <span>Date:</span>
        <button class="sort-btn" data-key="project_date" data-order="asc">↑</button>
        <button class="sort-btn" data-key="project_date" data-order="desc">↓</button>
      </div>
      <div class="sort-group">
        <span>Status:</span>
        <button class="sort-btn" data-key="status" data-order="asc">↑</button>
        <button class="sort-btn" data-key="status" data-order="desc">↓</button>
      </div>
      <div class="sort-group">
        <span>Budget:</span>
        <button class="sort-btn" data-key="budget" data-order="asc">↑</button>
        <button class="sort-btn" data-key="budget" data-order="desc">↓</button>
      </div>
    </div>

    <!-- Project list -->
    <div id="projects-list">
      {% assign projects = site.projects %}
      {% for project in projects %}
        <div class="project-tile" data-url="{{ project.url }}"
			 data-favorite_order="{{ project.favorite_order }}" 
			 data-project_date="{{ project.project_date }}" 
			 data-status="{{ project.status }}" 
			 data-budget="{{ project.budget }}" 
			 data-project_slug="{{ project.project_slug }}">

		  <img class="project-thumb" 
			   src="/assets/projects/{{ project.project_slug }}/thumbnail.png" 
			   alt="{{ project.title }} thumbnail">

		  <div>
			<a href="{{ project.url }}"><h3>{{ project.title }}</h3></a>
			<p><strong>Goal / Purpose:</strong> {{ project.goal }}</p>
			<p><strong>Favorites Order:</strong> {{ project.favorite_order }}</p>
			<p><strong>Date:</strong> {{ project.project_date }}</p>
			<p><strong>Status:</strong> {{ project.status }}</p>
			<p><strong>Budget:</strong> ${{ project.budget }}</p>
		  </div>
		</div>
      {% endfor %}
    </div>
  </section>
</main>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const container = document.getElementById("projects-list");
  const tiles = Array.from(container.querySelectorAll(".project-tile"));

  function sortProjects(key, order = "asc") {
    const sorted = tiles.slice().sort((a, b) => {
      let valA = a.dataset[key];
      let valB = b.dataset[key];

      if (key === "project_date") {
        valA = valA.replace("-", "");
        valB = valB.replace("-", "");
      }

      if (!isNaN(valA) && !isNaN(valB)) {
        valA = parseFloat(valA);
        valB = parseFloat(valB);
      }

      if (valA < valB) return order === "asc" ? -1 : 1;
      if (valA > valB) return order === "asc" ? 1 : -1;
      return 0;
    });

    sorted.forEach(tile => container.appendChild(tile));
  }

  // Initial sort
  sortProjects("favorite_order", "asc");

  // Button event listeners
  document.querySelectorAll(".sort-btn").forEach(btn => {
    btn.addEventListener("click", () => {
      sortProjects(btn.dataset.key, btn.dataset.order);
    });
  });
});
</script>

<script>
document.addEventListener("DOMContentLoaded", function() {
  // Make the entire tile clickable
  document.querySelectorAll(".project-tile").forEach(tile => {
    tile.addEventListener("click", function(e) {
      // Prevent clicks on actual links from triggering this handler
      if (e.target.tagName.toLowerCase() !== "a") {
        const url = tile.dataset.url;
        if (url) {
          window.location.href = url;
        }
      }
    });
  });
});
</script>

</body>
</html>
