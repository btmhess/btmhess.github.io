---
layout: default
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Projects Portfolio</title>
  <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>

<header>
  <nav>
    <div>
      <a href="/">Home</a>
      <a href="/index.html">Projects</a>
    </div>
    <h1>My Projects Portfolio</h1>
  </nav>
</header>

<main>
  <section>
    <h2>Projects</h2>

    <!-- Sorting controls -->
    <div id="sort-controls" style="margin-bottom:1rem;">
      <label>Sort by: 
        <select id="sort-select">
          <option value="favorite_order">Favorites</option>
          <option value="project_date">Date</option>
          <option value="status">Status</option>
          <option value="budget">Budget</option>
        </select>
      </label>
    </div>

    <!-- Project list -->
    <div id="projects-list">
      {% assign projects = site.projects %}
      {% for project in projects %}
        <div class="project-tile"
             data-favorite_order="{{ project.favorite_order }}" 
             data-project_date="{{ project.project_date }}" 
             data-status="{{ project.status }}" 
             data-budget="{{ project.budget }}" 
             data-project_slug="{{ project.project_slug }}">
          
          <a href="{{ project.url }}" style="display:flex; align-items:flex-start; text-decoration:none; color:inherit;">
            <!-- Thumbnail -->
            <img class="project-thumb" 
                 src="/assets/projects/{{ project.project_slug }}/thumbnail.png" 
                 alt="{{ project.title }} thumbnail" 
                 style="width:150px; height:auto; margin-right:1rem; border-radius:4px; object-fit:cover;">
            
            <!-- Project info -->
            <div>
              <h3>{{ project.title }}</h3>
              <p><strong>Goal / Purpose:</strong> {{ project.goal }}</p>
              <p><strong>Favorites Order:</strong> {{ project.favorite_order }}</p>
              <p><strong>Date:</strong> {{ project.project_date }}</p>
              <p><strong>Status:</strong> {{ project.status }}</p>
              <p><strong>Budget:</strong> ${{ project.budget }}</p>
            </div>
          </a>
        </div>
      {% endfor %}
    </div>
  </section>
</main>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const container = document.getElementById("projects-list");
  const tiles = Array.from(container.querySelectorAll(".project-tile"));

  // Sorting functionality
  const select = document.getElementById("sort-select");

  function sortProjects(key) {
    const sorted = tiles.slice().sort((a, b) => {
      let valA = a.dataset[key];
      let valB = b.dataset[key];

      // Convert dates YYYY-MM to comparable numbers
      if (key === "project_date") {
        valA = valA.replace("-", "");
        valB = valB.replace("-", "");
      }

      // Numeric sort
      if (!isNaN(valA) && !isNaN(valB)) {
        return parseFloat(valA) - parseFloat(valB);
      }

      // Text sort
      return valA.localeCompare(valB);
    });

    sorted.forEach(tile => container.appendChild(tile));
  }

  // Initial sort
  sortProjects("favorite_order");

  select.addEventListener("change", e => sortProjects(e.target.value));
});
</script>

</body>
</html>
